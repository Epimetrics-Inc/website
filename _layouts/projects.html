---
layout: page
---

<section id="projects">
  <h2 class="section-heading">
    {% if page.building_block %}
      {{ page.building_block }}
    {% else %}
      {{ page.title }}
    {% endif %}
  </h2>
  <!-- Featured Project -->
  {% assign project_list = site.projects %}

  {% if page.building_block %}
    {% assign project_list = site.projects | where_exp: "item", "item.building_blocks contains page.building_block" %}
  {% endif %}

  {% assign projects_size = project_list | size %}
  {% if projects_size > 0 %}
    <div class="articles-grid">
      <!-- Featured Project -->
      {% assign projects = project_list | where: "featured", "true" %}

      {% if page.building_block %}
        {% assign projects = project_list | where_exp: "item", "item.building_blocks contains page.building_block" | where: "featured", "true" %}
      {% endif %}

      {% for project in projects %}
      	<a href="{{ project.url | absolute_url }}" class="featured article" {% if project.image %}style="background-image: url({{ project.image }});"{% endif %}>
      		<div class="article-info">
      			<h3 class="article-title">{{ project.title }}</h3>
            {% assign client = site.data.clients[project.client] %}
      			<div class="article-client">For {{ client.name }}</div>
      			<div class="article-tags">{{ project.building_blocks | array_to_sentence_string }}</div>
      		</div>
    		</a>
      {% endfor %}

      <!-- Regular Projects -->
      {% assign projects = project_list | where: "featured", "false" %}

      {% if page.building_block %}
        {% assign projects = project_list | where_exp: "item", "item.building_blocks contains page.building_block" | where: "featured", "false" %}
      {% endif %}

      {% for project in projects %}
        <a href="{{ project.url | absolute_url }}" class="article" {% if project.image %}style="background-image: url({{ project.image }});"{% endif %}>
          <div class="article-info">
            <h3 class="article-title">{{ project.title }}</h3>
            {% assign client = site.data.clients[project.client] %}
            <div class="article-client">For {{ client.name }}</div>
            <div class="article-tags">{{ project.building_blocks | array_to_sentence_string }}</div>
          </div>
        </a>
      {% endfor %}
    </div>
  {% else %}
    <div class="section-description" style="text-align: center;">
      No projects to show.
    </div>
  {% endif %}

</section>